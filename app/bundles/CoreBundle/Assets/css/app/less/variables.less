//
// Variables
// --------------------------------------------------
//== Bootstrap variable
//
//## import bootstrap variable.
@import "../../libraries/bootstrap/less/variables.less";

// DMS Colors from our brand guideline.
@dms-1: #2a84c5;
@dms-2: #000000;
@dms-3: #467ca2;
@dms-4: #cb4641;
@dms-5: #d9e4ec;

// Stock logo colors (irrelevant)
@mautic-logo-figure-width: 32px;
@mautic-logo-figure-circle-fill: #ffffff;
@mautic-logo-figure-m-fill: @brand-warning;
@mautic-logo-text-width: 98px;
@mautic-logo-text-fill: #ffffff;

// Brand Colors
@brand-primary: @dms-3;
@brand-success: @dms-1;
@brand-info: darken(@brand-primary, 20%);
@brand-danger: @dms-4;
@brand-warning: lighten(@dms-4, 20%);

@mautic-primary: @brand-primary;
@mautic-secondary: @brand-success;
@mautic-tertiary: @brand-info;

//== Header layout
//
//## common main header variable.
@header-bg: #ffffff;
@header-height: 60px;
@header-zindex: @zindex-navbar + 5; // 1005

//== Sidebar layout
//
//## common main sidebar variable.
@sidebar-zindex: (@header-zindex - 20 + 5); // 990
//** left sidebar option
@sidebar-left-bg: @brand-success;
@sidebar-left-header-bg: @brand-success;
@sidebar-left-width: 180px;
@sidebar-left-collapse-width: 60px;
@sidebar-left-dark: @brand-success;

//** right sidebar option - coming soon
@sidebar-right-bg: @sidebar-left-bg;
@sidebar-right-header-bg: lighten(@sidebar-right-bg, 3%);
@sidebar-right-width: 180px;

//== Content layout
//
//## common main content variable.
@content-zindex: (@header-zindex - 10 + 5); // 1000
@content-bg: #f8f8f8;

//== Footer layout
//
//## common footer variable.
@footer-height: 46px;
@footer-bg: lighten(@body-bg, 1%);
@footer-zindex: @content-zindex; // 1000

// Hide the standard inline svg Mautic logo.
body #app-wrapper .app-sidebar .sidebar-header .mautic-brand svg,
body #main .container .panel[name="form-login"] .mautic-logo > svg {
  display: none;
}

// Login form restyle.
body #main .container .panel[name="form-login"] .mautic-logo {
  min-height: 70px;
  width: 100%;
  padding: 0;
  margin: 0;
  border-radius: 4px;
  display: block;
  //background-color: transparent;
  background-position: center;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 240 51.8"><defs><style>.cls-1{fill:%232a84c5}</style></defs><path d="M56.4 24.6v-.2c0-8.1 5.8-15 14.2-15 9.6 0 14 7.5 14 15.6l-.1 2.2h-20a6.7 6.7 0 0 0 7 5.6 9.4 9.4 0 0 0 7-3l4.7 4.2a14.4 14.4 0 0 1-11.8 5.4c-8.6 0-15-6-15-14.8zM76.7 22c-.5-3.6-2.7-6.1-6-6.1S65 18.3 64.4 22zm11-12H96v4c1.8-2.3 4.2-4.5 8.4-4.5 6.2 0 9.7 4 9.7 10.6v18.7H106v-16c0-3.9-1.8-5.9-5-5.9s-5 2-5 5.9v16h-8.2zm29.6 34.5l2.7-6.2a18.8 18.8 0 0 0 9.8 2.7c5.5 0 8.1-2.7 8.1-7.8v-1.5c-2.4 3-5 4.7-9.3 4.7-6.7 0-12.8-4.9-12.8-13.4 0-8.6 6.2-13.4 12.8-13.4a11.6 11.6 0 0 1 9.2 4.3V10h8.2v22.3c0 5.1-1.2 8.9-3.6 11.3-2.7 2.7-6.9 3.9-12.4 3.9a27.3 27.3 0 0 1-12.7-3zM138 23v-.1c0-4-3-6.7-7-6.7s-7 2.8-7 6.7v.1c0 4 3 6.7 7 6.7s7-2.8 7-6.7zm10.6 7.5c0-6.4 4.8-9.3 11.6-9.3a20.4 20.4 0 0 1 7 1.2V22c0-3.3-2-5.2-6.2-5.2a21.1 21.1 0 0 0-7.9 1.5l-2-6.2a25.4 25.4 0 0 1 11.2-2.3c4.4 0 7.6 1.2 9.7 3.2s3 5.3 3 9.2v16.7h-7.8v-3.1a11 11 0 0 1-8.7 3.6c-5.4 0-9.9-3.1-9.9-8.8zm18.7-1.9v-1.4a12.6 12.6 0 0 0-5.2-1c-3.4 0-5.6 1.3-5.6 4 0 2.2 1.8 3.5 4.5 3.5 3.8 0 6.3-2.1 6.3-5zm12 15.9l2.8-6.1a18.8 18.8 0 0 0 9.7 2.6c5.6 0 8.2-2.7 8.2-7.8v-1.5a11 11 0 0 1-9.4 4.7c-6.7 0-12.7-4.9-12.7-13.4 0-8.6 6.1-13.4 12.7-13.4a11.6 11.6 0 0 1 9.3 4.3V10h8.1v22.3c0 5.1-1.2 8.9-3.6 11.3-2.7 2.7-6.9 3.9-12.4 3.9a27.3 27.3 0 0 1-12.7-3zM200 23v-.1c0-4-3-6.7-7-6.7s-7 2.8-7 6.7v.1c0 4 3 6.7 7 6.7s7-2.8 7-6.7zm10 1.6v-.2c0-8.1 5.8-15 14.1-15 9.6 0 14 7.5 14 15.6v2.2H218a6.7 6.7 0 0 0 7 5.6 9.4 9.4 0 0 0 7-3l4.7 4.2a14.4 14.4 0 0 1-11.8 5.4c-8.6 0-15-6-15-14.8zm20.2-2.5c-.5-3.6-2.6-6-6-6s-5.6 2.3-6.3 6z" class="cls-1"/><rect width="11.4" height="31.9" x="22.5" y="-5.8" class="cls-1" rx="5.7" ry="5.7" transform="rotate(90 28.1 10.2)"/><rect width="11.4" height="22.6" x="17.8" y="13" class="cls-1" rx="5.7" ry="5.7" transform="rotate(90 23.5 24.3)"/><rect width="11.4" height="33.5" x="23.3" y="21.6" class="cls-1" rx="5.7" ry="5.7" transform="rotate(90 29 38.3)"/><path d="M6 4.3h2V44H6z" class="cls-1"/></svg>');
  background-repeat: no-repeat;
  overflow: hidden;
}

// Add the Engage logo for internal pages.
body #app-wrapper .app-sidebar .sidebar-header .mautic-brand {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 240 51.8"><defs><style>.cls-1{fill:%23fff}</style></defs><path d="M56.4 24.6v-.2c0-8.1 5.8-15 14.2-15 9.6 0 14 7.5 14 15.6l-.1 2.2h-20a6.7 6.7 0 0 0 7 5.6 9.4 9.4 0 0 0 7-3l4.7 4.2a14.4 14.4 0 0 1-11.8 5.4c-8.6 0-15-6-15-14.8zM76.7 22c-.5-3.6-2.7-6.1-6-6.1S65 18.3 64.4 22zm11-12H96v4c1.8-2.3 4.2-4.5 8.4-4.5 6.2 0 9.7 4 9.7 10.6v18.7H106v-16c0-3.9-1.8-5.9-5-5.9s-5 2-5 5.9v16h-8.2zm29.6 34.5l2.7-6.2a18.8 18.8 0 0 0 9.8 2.7c5.5 0 8.1-2.7 8.1-7.8v-1.5c-2.4 3-5 4.7-9.3 4.7-6.7 0-12.8-4.9-12.8-13.4 0-8.6 6.2-13.4 12.8-13.4a11.6 11.6 0 0 1 9.2 4.3V10h8.2v22.3c0 5.1-1.2 8.9-3.6 11.3-2.7 2.7-6.9 3.9-12.4 3.9a27.3 27.3 0 0 1-12.7-3zM138 23v-.1c0-4-3-6.7-7-6.7s-7 2.8-7 6.7v.1c0 4 3 6.7 7 6.7s7-2.8 7-6.7zm10.6 7.5c0-6.4 4.8-9.3 11.6-9.3a20.4 20.4 0 0 1 7 1.2V22c0-3.3-2-5.2-6.2-5.2a21.1 21.1 0 0 0-7.9 1.5l-2-6.2a25.4 25.4 0 0 1 11.2-2.3c4.4 0 7.6 1.2 9.7 3.2s3 5.3 3 9.2v16.7h-7.8v-3.1a11 11 0 0 1-8.7 3.6c-5.4 0-9.9-3.1-9.9-8.8zm18.7-1.9v-1.4a12.6 12.6 0 0 0-5.2-1c-3.4 0-5.6 1.3-5.6 4 0 2.2 1.8 3.5 4.5 3.5 3.8 0 6.3-2.1 6.3-5zm12 15.9l2.8-6.1a18.8 18.8 0 0 0 9.7 2.6c5.6 0 8.2-2.7 8.2-7.8v-1.5a11 11 0 0 1-9.4 4.7c-6.7 0-12.7-4.9-12.7-13.4 0-8.6 6.1-13.4 12.7-13.4a11.6 11.6 0 0 1 9.3 4.3V10h8.1v22.3c0 5.1-1.2 8.9-3.6 11.3-2.7 2.7-6.9 3.9-12.4 3.9a27.3 27.3 0 0 1-12.7-3zM200 23v-.1c0-4-3-6.7-7-6.7s-7 2.8-7 6.7v.1c0 4 3 6.7 7 6.7s7-2.8 7-6.7zm10 1.6v-.2c0-8.1 5.8-15 14.1-15 9.6 0 14 7.5 14 15.6v2.2H218a6.7 6.7 0 0 0 7 5.6 9.4 9.4 0 0 0 7-3l4.7 4.2a14.4 14.4 0 0 1-11.8 5.4c-8.6 0-15-6-15-14.8zm20.2-2.5c-.5-3.6-2.6-6-6-6s-5.6 2.3-6.3 6z" class="cls-1"/><rect width="11.4" height="31.9" x="22.5" y="-5.8" class="cls-1" rx="5.7" ry="5.7" transform="rotate(90 28.1 10.2)"/><rect width="11.4" height="22.6" x="17.8" y="13" class="cls-1" rx="5.7" ry="5.7" transform="rotate(90 23.5 24.3)"/><rect width="11.4" height="33.5" x="23.3" y="21.6" class="cls-1" rx="5.7" ry="5.7" transform="rotate(90 29 38.3)"/><path d="M6 4.3h2V44H6z" class="cls-1"/></svg>');
  background-repeat: no-repeat;
  overflow: hidden;
  position: relative;
  left: -2px;
}

// Logo positioning for internal pages.
body #app-wrapper .app-sidebar .sidebar-header .mautic-brand {
  background-size: 156px;
  background-position: -3px 16px;
  width: 180px;
  -webkit-transition: all .3s;
  -moz-transition: all .3s;
  -ms-transition: all .3s;
  -o-transition: all .3s;
  transition: all .3s;
}

//// Collapsed logo treatment.
html.sidebar-minimized body #app-wrapper .app-sidebar .sidebar-header .mautic-brand {
  background-size: 215px;
  background-position: -4px 9px;
  -webkit-transition: all .3s;
  -moz-transition: all .3s;
  -ms-transition: all .3s;
  -o-transition: all .3s;
  transition: all .3s;
}

// Footer modification, copyright additions.
body #main .container .row .col-lg-4.col-lg-offset-4.text-center.text-muted,
footer#app-footer .row .text-muted:nth-child(1) {
  visibility: hidden;
}

body #main .container .row .col-lg-4.col-lg-offset-4.text-center.text-muted:before,
footer#app-footer .row .text-muted:nth-child(1):before {
  content: 'Copyright Â© 2018 Digital Media Solutions Group';
  visibility: visible;
  font-size: 10px;
}

footer#app-footer .row .text-right {
  font-size: 10px;
}

footer#app-footer .row .text-right:hover:before {
  -webkit-transition: all .3s;
  -moz-transition: all .3s;
  -ms-transition: all .3s;
  -o-transition: all .3s;
  transition: all .3s;
  opacity: 1;
}

footer#app-footer .row .text-right:before {
  -webkit-transition: all .3s;
  -moz-transition: all .3s;
  -ms-transition: all .3s;
  -o-transition: all .3s;
  transition: all .3s;
  opacity: 0;
  content: 'Running Mautic';
  display: inline-block;
  padding-right: 6px;
  font-size: 10px;
}

// Some items in the main menu we wish to hide to keep the navigation simple.
html:not(.hidden-nav) body .nav-sidebar #mautic_calendar_index,
html:not(.hidden-nav) body .nav-sidebar #mautic_company_index,
html:not(.hidden-nav) body .nav-sidebar #mautic_components_root,
html:not(.hidden-nav) body .nav-sidebar #mautic_channels_root,
html:not(.hidden-nav) body .nav-sidebar #mautic_points_root,
html:not(.hidden-nav) body .nav-sidebar #mautic_stage_index {
  //display: none;
  opacity: 0;
  height: 0;
  margin: 0;
  padding: 0;
}

// Override styles with missing/poor variable inclusion:
.fr-toolbar {
  border-top: 2px solid @mautic-tertiary;
}

// Sidebar highlights to white.
html body .app-sidebar.sidebar-left .nav-sidebar > .nav > li.active > a,
html body .app-sidebar.sidebar-left .nav-sidebar > .nav > li.open > a,
html body .app-sidebar .nav-sidebar > .nav > li.open > a .icon,
html body .app-sidebar .nav-sidebar > .nav > li.active > a .icon {
  color: #ffffff;
}

html body .app-sidebar .nav-sidebar > .nav > li > .nav-submenu > li.active:after {
  background-color: #fff !important;
}

// Hide Clippy/Mautibot
.mautibot-image,
.mautibot-image img {
  display: none;
}

// Increase iconography size
html.sidebar-minimized body .app-sidebar .nav-sidebar > .nav > li > a .icon,
html body .app-sidebar .nav-sidebar > .nav > li > a .icon {
  -webkit-transition: all .3s;
  -moz-transition: all .3s;
  -ms-transition: all .3s;
  -o-transition: all .3s;
  transition: all .3s;
  font-size: @font-size-base;
}

html.sidebar-minimized body .app-sidebar .nav-sidebar > .nav > li > a .icon {
  font-size: 20px;
}

// Increase navigation font size.
html body .app-sidebar .nav-sidebar > .nav > li {
  font-size: 14px;
}

// Issue collector styles
body .atlwdg-trigger.atlwdg-SUBTLE:hover {
  background-color: @brand-danger;
  color: rgba(255, 255, 255, 1) !important;
}

body .atlwdg-trigger.atlwdg-SUBTLE {
  left: 1px;
  right: auto;
  bottom: 1px;
  border: none;
  border-bottom: none;
  border-right: none;
  background-color: @dms-1;
  color: rgba(255, 255, 255, 0.5) !important;
  font-size: 14px;
  font-weight: 400;
  padding: 6px 12px;
  -webkit-box-shadow: none;
  box-shadow: none;
  border-radius: 3px;
  z-index: 1000;
}

body .atlwdg-trigger.atlwdg-SUBTLE {
  font-size: 14px;
  min-width: 0px;
}

// Static width when there is a side-nav
body.header-fixed .atlwdg-trigger.atlwdg-SUBTLE {
  min-width: 177px;
  -webkit-transition: min-width .3s;
  -moz-transition: min-width .3s;
  -ms-transition: min-width .3s;
  -o-transition: min-width .3s;
  transition: min-width .3s;
}

body .atlwdg-trigger.atlwdg-SUBTLE:before {
  font-family: 'FontAwesome';
  font-size: 13px;
  padding: 0 20px 0 5px;
  // fa-exclamation-circle
  content: "\f06a";
}

html.sidebar-minimized body .atlwdg-trigger.atlwdg-SUBTLE {
  width: 57px;
  min-width: auto;
  text-indent: -1000px;
  font-family: "Open Sans", Helvetica, Arial, sans-serif;
}

html.sidebar-minimized body .atlwdg-trigger.atlwdg-SUBTLE:before {
  font-size: 20px;
  left: 1000px;
  position: relative;
}

// Hide mautibot quote and broken issue generating link for 400/500 pages.
body div.mautibot-content.col-xs-8.col-md-9 div.pull-right a.text-muted,
body div.mautibot-content.col-xs-8.col-md-9 blockquote footer.text-right {
  display: none;
}

/* Styles of statuspage.io widget we'll be embedding for system health */
#widget-statuspage {
  margin-left: 4px;
}

#widget-statuspage .color-dot {
  border-radius: 9px;
  -webkit-border-radius: 9px;
  -moz-border-radius: 9px;
  display: inline-block;
  width: 7px;
  height: 7px;
  margin-right: 2px;
}

#widget-statuspage .color-dot.critical {
  background-color: #c3491c;
}

#widget-statuspage .color-dot.major {
  background-color: #F15A22;
}

#widget-statuspage .color-dot.minor {
  background-color: #F8B333;
}

#widget-statuspage .color-dot.none {
  background-color: #A2D06B;
}

#widget-statuspage .color-description {
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  width: 80%;
}

/* Make the Plugins Screen Look OK with longer Integration Display Names */

div.shuffle-item.integration {
  max-width: 200px;
  width: 200px;
  text-align: center;
  vertical-align: middle;
}

span.ellipsis {
  display: block;
  overflow: visible;
  text-overflow: inherit;
  white-space: normal;
}

.ovf-h {
  min-height: 175px;
}

.img-responsive {
  display: inline-block;
}

// Hide some actions and conditions in the campaign action select widget (will not hide them if already in campaign) - ENG-131
html:not(.hidden-nav) body #CampaignCanvas #ActionList_chosen li.option_campaignEvent_leadscorecontactscompanies, // Add to company's score
html:not(.hidden-nav) body #CampaignCanvas #ActionList_chosen li.option_campaignEvent_leadaddtocompany, // Add to company action
html:not(.hidden-nav) body #CampaignCanvas #ActionList_chosen li.option_campaignEvent_leaddeletecontact, // Delete contact
html:not(.hidden-nav) body #CampaignCanvas #ActionList_chosen li.option_campaignEvent_messagesend, // Send marketing message
html:not(.hidden-nav) body #CampaignCanvas #ActionList_chosen li.option_campaignEvent_leadchangeowner,
html:not(.hidden-nav) body #CampaignCanvas #ConditionList_chosen li.option_campaignEvent_emailvalidateaddress { // Condition: Has valid email address

  display: none;
}

// Hide the ability to add new "Decisions" (will not hide them if already in campaign) - ENG-131
html:not(.hidden-nav) body #CampaignCanvas .campaign-group-container#DecisionGroupSelector {
  display: none;
}

// We have 2 items always - ENG-131
html:not(.hidden-nav) body #CampaignCanvas .campaign-group-container.col-md-6,
html:not(.hidden-nav) body #CampaignCanvas .campaign-group-container.col-md-4 {
  min-width: 50%;
}

// Always show the action group, even under integrations - ENG-131
html:not(.hidden-nav) body #CampaignCanvas .campaign-group-container.hide#ActionGroupSelector.hide {
  display: block !important;
}

// Fix for IE/Firefox scrollbars on PC
.scroll-wrapper::-webkit-scrollbar {
  display: none;
}
@-moz-document url-prefix() {
  .scroll-wrapper {
    overflow: hidden !important;
  }
  .scroll-wrapper {
    overflow-y: scroll;
  }
}

// Hide the core Mautic update notification.
#notifications > .alert-mautic.mautic-update {
  display: none;
}

// Beta styles for the Campaign Builder (WIP)
//#CampaignCanvas path[pointer-events="visibleStroke"] {
//  stroke-width: 2px;
//}
//#CampaignCanvas path[pointer-events="all"] {
//  display: none;
//}
//#CampaignCanvas div {
//  border: none;
//}
//#CampaignCanvas div.list-campaign-leadsource {
//  background: #fdb933;
//  color: #fff;
//}
//#CampaignCanvas div.list-campaign-condition {
//  background: #ffb79f;
//  color: #fff;
//}
//#CampaignCanvas div.list-campaign-action {
//  background: #9babeb;
//  color: #fff;
//}
